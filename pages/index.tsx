import Head from 'next/head';
import ResortsList from '../components/CardContents/ResortsList';
import { getAllResortNames } from '../services/resortsService';
import InfoPageLayout from '../layouts/InfoPageLayout';
import { ResortNameObj } from '../types';

interface Props {
  resorts: ResortNameObj[];
}

const Home = ({ resorts }: Props) => {
  return (
    <>
      <Head>
        <title>On The Snow Clone</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <InfoPageLayout title="United States Ski Resorts">
        <ResortsList resorts={resorts} />
      </InfoPageLayout>
    </>
  );
};

export const getStaticProps = async () => {
  const resorts = await getAllResortNames();
  return {
    props: { resorts },
  };
};

export default Home;
